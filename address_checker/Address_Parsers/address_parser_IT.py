from address_checker.Address_Parsers.address_parser import parser_final, make_string, hasNumbers
import re
import requests
import json


#Poboxes
pobox = ['casella postale','cp','c.p.','c.p','cp','c p','cas pos','presso','c o','c.o.','p.o.box','p.o. box','po box']


#Remove these elements
remove_list = ['poste italiane','numero','no', 'n.o.','banca','agenzia','cinema','museo']


#Remove these elements plus their next element, which is a number
remove_list_with_number = ['étage','level','niveau','etage','et','ét','dernier étage','bel étage','bel etage','parterre','étage noble','etage noble']


#Floor numbers
floors = ['1°','2°','3°','4°','5°','6°','7°','8°','9°','1 °','2 °','3 °','4 °','5 °','6 °','7 °','8 °','9 °']


#Finish streetnames, where blacklist_street has the streetnames that can't be finished.
afkorting = {'cal':'calle','str.':'strada','str':'strada'}
blacklist_street = ["Via Cappella Csmstr", "Contrada Piana Sallustr.", "Via Carlo Pascal", "Via Mattia Pascal", "Localita' Rocal", "Via Cucal", "Localita' Lungolago Rical","Via Villa di Montpascal", "Via Pascal", "Borgata Pascal", "Via Sottocal","Via Forcal","Via Gescal","Via Sotcal", "Via Blaise Pascal", "Via Moscal", "Vicolo Blaise Pascal", "Via Escal", "Rione Gescal", "Via Ernesto Pascal", "Via Case Escal", "Via del Doncal", "Via Biagio Pascal"]


#streets that end with a number
straat_eind_cijfer =['Piazza 21 Maggio', 'SS411', 'Via 6 Settembre', 'SP279', 'Via H2', 'SP68', 'SP196', 'SS526', 'SS659', 'SS64', 'SC1.2', 'SS400', 'SP517', 'Corso 3 Novembre', 'SS675', 'SPBS573', 'SR482', 'SP448', 'SS54', 'Via G', 'SP281', 'SP79', 'Via 25 Aprile', 'SP280', 'SP312', 'SS241', 'Contrada Santone Numero', 'SP665', 'SS182', 'SPexSS524', 'SP372', 'SP374', 'SR361', 'SP641', 'Piazza 27 Marzo', 'SS298', 'SS436', 'SP447', 'SR40', 'SS458', 'A56', 'SS427', 'SP555', 'SP344', 'SS341', 'Traversa Ritiro', 'SS92', 'SP88', 'SR82', 'SC47', 'Via Monaco', 'Via Fronte Conca', 'Via 25 Luglio', 'SS133', 'Via Bocia del', 'SPBS294', 'SP161', 'SP31-43', 'Via 28 Luglio', "Strada Colombana Nuvole' Traversa", 'Via Strada Statale Numero', 'SP345', 'SR356', 'SP191', 'SPexSS94', 'SP153', 'SP253', 'SP195', 'Salita Vanella', 'SP156', 'SP17d1', 'Via Os.', 'Via Bf.', 'Via PG', 'Variante Strada Statale', 'SS148', 'SP467', 'SR571', 'SS116', 'SS15', 'SS652', 'SP409', 'SR348', 'SS354', 'SR20', 'SP21', 'SS76', 'SPexSS399', 'Via A', 'Dir. Prima Secondo Tronco SS', 'SP189', 'SS367', 'SC77', 'Strada Vicinale Pian del Trullo Numero', 'SP116', 'SP17', 'SR79', 'SP14-2', 'SS414', 'SC27', 'SS112', 'SP503', 'Via Internati 1943-1945', "Via Cinque Giornate dell'Agosto", 'SP306', 'Via Strada', 'SC24', 'SS435', 'SS592', 'SC64', 'Via Caduti 7 Settembre', 'Strada Provinciale ex SS', 'Via B-33', 'Piazza 20 Gennaio', 'Via F4', 'SP307', 'Via della Battaglia', 'SC115.2', 'Traversa Castello', 'Via Renda', 'SP54', 'SR8', 'SP505', 'SP53', 'SC110.2', 'Cortile Sanfilippo', 'SR42', 'SS91', 'SS499', 'SP21-1', 'SS107', 'SR203', 'Via 8 Maggio', 'SS643', 'SP115', 'Via 10 Aprile', 'SP98', 'SP6.8', 'SS106', 'E45', 'Via C4', 'SC49', 'SC2', 'SP391', 'Via 29 Novembre', "Via 26 Marzo '68", 'SP152', 'Via 8 Febbraio', 'SS557', 'SP450', 'Via Martiri del Neritini', 'E848', 'Superstrada', 'Viale Caduti del 28 Luglio', 'SS105', 'SS185', 'Piazzale 3 Agosto', 'SP395', 'SR257', 'SS646', 'SP150', 'Via Martiri', 'SC71', 'SS409', 'SP248', 'SS344', 'SS99', 'SS29', 'SR464', 'SS669', 'SP432', 'Via Ur.', 'SR245', 'Via Giuseppe Garibaldi Cortile', 'SP75', 'Via 26 Ottobre', 'SP139', 'SS8', 'Contrada Spinaci', 'Corso 18 Agosto', "Piazza dell'Insurrezione 28 Aprile", 'SS371', 'SS220', 'SR43', 'SPexSS342', 'SP525', 'SP298', 'SS218', 'SP40', 'SP183', 'SP252', 'SPexSS538', 'SR2', 'SP19-1', 'SP593', "Via Fucilati Dicembre '43", 'SRexSS366', 'SP162', 'Via 18 Gennaio', 'SP515', 'SP111', 'SP309', 'SP588', 'SS451', 'SC4', 'SP508', 'SS456', 'SS637', 'Traversa Pipino', 'SS300', 'SR539', 'SP416', 'SP9-1', 'Via Luglio', 'SR352', 'Via P.', 'SP354', 'SS579', 'SS147', 'Via Ott', 'SP362', 'SS42', 'SS110', 'Via E44', 'Via Ponte Grotta', 'SP7-1', 'SR409', 'SP398', 'Via 21 Ottobre', 'Regione Colle di Casotto Garessio', 'SS312', 'SR208', 'SS219', 'Via Arpino', 'SS56', 'SP90', 'Via Colle Aurelio', 'SP493', 'Corso 25 Aprile', 'Via Vittime di Bologna', 'SP349', 'SPexSS381', 'SP33', 'Civico', 'SP527', 'SS80', 'SC78.2', 'Via F3', 'SC84.4', 'Contrada Amica Traversa', 'Via 30 Aprile', 'Largo 18 Aprile', 'SP390', 'SS453', 'SP238', 'SP340', 'SP63', 'SPexSS19', 'SRT436', 'Via Giacomo Matteotti Cortile', 'SC66', 'Vicolo 3 Giugno', 'SP214', 'SS421', 'SS159', 'SP610', 'SR53', 'SS100', 'SS37', 'Via 27 Aprile', 'Vico Primo Via 10 Ottobre', 'Interno', 'SP516', 'SP327', 'SP430', 'Via C.1', 'SP163-2', "Localita' Olmedo di Fuori", 'SP633', 'SS475', 'SP438', 'Via 28 Aprile', 'SP91d1', 'SP468', 'SPBS572', 'SP67', 'Strada n.', 'SP661', 'Via 3 Marzo', 'Via Primo Agosto', 'Strada Longa', 'SS231', 'SP37', 'SP220', 'SS96', 'SS39', 'Via Nc.', 'Piazza Umberno Nobile Zona', 'Via 9 Agosto', 'SP8d3', 'SS77', 'ex Tr13', 'SS243', 'SP136', 'Via S.', 'Via Casoria', 'Piazza 8 Ottobre', 'SS316', 'SC40.1', 'SP431', 'SP282', 'Via 27 Agosto', 'SP164', 'SR22', 'SR65', 'SR156', 'SP329', 'SS394', 'Piazza Martiri', 'SRexSS426', 'SP245', 'SP45dir1', 'SP142', 'SS593', 'SS349', 'SSP589', 'SS232', 'Via Caduti 18 Marzo', 'Via dei Patrioti Nicastresi', 'Via R2', 'SPexSS367', 'SC9', 'Traversa', 'SPexSS276', 'SP10', 'SP101', 'Via 28 Settembre', 'SR436', 'SS200', 'SP251', 'Piazza 22 Marzo', 'SS661', 'SP277', 'SS471', 'SR23var2', 'SP5-1', 'SP8d2', 'SS122', 'SP292', 'SPexSS591', 'Piazza 23 Febbraio', 'Via del Plebiscito', 'SP424', 'SP326', 'SC76.1', 'SP41', 'SS86', 'SP295', 'SP14-1', 'SP128', 'SP105', 'SS238', 'SS113', 'SP32', 'SS209', 'Via 24 Maggio', 'SPexSS7', 'SP235', 'SR1', 'SP274', 'SS537', 'Via P.1', 'Strada G2', 'SP297', 'SP91', 'SC92.1', 'SP194', 'SP89', 'SP257', 'SR74', 'SR21', 'SS211', 'SC17', 'SS158', 'SR83', 'Vicolo 4 Novembre', 'SS559', 'SP566', 'SS276', 'SP230', 'SP211', 'SP261', 'SP478', 'Viale 25 Aprile', 'SP167-3', 'SP49d1', 'SP628', 'SP484', 'SS28', 'SS237', 'SS629', 'SP270', 'SP638', 'Via di Bonifica Numero', 'SPBS236', 'Strada', 'SS188', 'SP229', 'SP485', 'SP113', 'SR514', 'Via Dz', 'Via 21 Aprile', 'Via 9 Ottobre', 'SP4-1', 'Via A1', 'SS192', 'Via Ud.', 'SS327', 'SC72', 'Via Primo Novembre', 'SP25d1', 'E70', 'SP385', 'SP454', 'SS356', 'SR220', 'SP226', 'SPexSS404', 'SP42', 'SC40', 'SP102d1', 'Contrada Crocevecchia', 'Primo Tronco SS', 'SS150', 'SS448', "Localita' Marilleva", 'SS340', 'SP342', 'Via 8 Settembre', 'SR298', 'Viale San Martino', 'SP173', 'SS630', 'Via B.', 'SP403', 'SP317', 'SP451', 'SC26', 'E66', 'SS272', 'SS336', 'SC44', 'Via H4', 'SS117', 'exSS211', 'SS283', 'SP208', 'SP455', 'SP45dir2', 'SP82', 'Via Q2', 'SP39', 'SPexSS420', 'Via Masseria Sommese', 'SC522', 'SP262', 'SP2', 'SP145', 'SP318', 'Via 22 Giugno', 'SS287', 'SP268', 'SPexSS5', 'SP404', 'SPexSS428', 'SPexSS377', 'SP523', 'Vico Variante Strada Statale', 'SS585', 'SR68', 'Via 14 Febbraio', 'SP590', 'SS12', 'Via 13 Novembre', 'SS163', 'SP305', 'SS295', 'SP452', 'Strada Statale 7 Km', 'Via 28 Marzo', 'SP212', 'E62', 'SP5', "Piazza 24 Aprile '88", 'SR16', 'SS176', 'SP190', 'Via Basile in F13', 'SR630', 'SP196d1', 'SS483', 'SS469', 'SPexSS364', 'Piazza Martiri 25 Luglio', 'SP179', 'Piazza 11 Settembre', 'SS172', 'Via 8 Agosto', 'Via 4 Novembre', 'SR578', 'SS81', 'Piazza Comitato', 'Via Zeta', "Via Martiri del 7 Luglio '60", 'Traversa Landi Terzo Tronco Via Strada Statale', 'SPexSS169', 'SS1', 'SS118', 'SC70', 'Via M.1', 'SS671', "Strada Ragazzi del '99", 'SP6dir1', 'SP40d3', 'Piazza', 'Contrada Stradone', 'SP96', 'SP600', 'SS47', 'SR71', 'SP480', 'SP445', 'SS309', 'SS236', 'SP160', 'Piazza 5 Luglio', 'SC96.2', 'Contrada Piane Vomano', 'SC14', 'SR445', 'SS293', 'E80', 'SR104', 'Corso dei Mille Cortile', 'SC15', 'SS617', 'Via 16 Settembre', 'Traversa Casoria', 'SC24.1', 'SS461', 'SP25', 'SS296', 'SS389', 'SP530', 'Via 10 Maggio', 'SS468', 'SP259', 'Via 16 Marzo', 'SP632', 'SR58', 'SP380', 'Ex Strada Statale', 'SP286', 'SP14dir1', 'SS257', 'SS53', 'SP367', 'SP58', 'Via San Matteo', 'SP551', 'SS416', 'SP81', 'SP601', 'Via 15 Agosto', 'SR552', 'SS46', 'SP461', 'SS128', 'SC18', 'SR69', 'SS144', 'SP337', 'SP159', 'SP66', 'SP200', 'SP556', 'Piazzale Vittime 11 settembre', 'Strada Vicinale Moleta', 'SR17', 'Viadotto Primo Categoria', 'SS318', 'SRexSS267', 'SS87', 'SP443', 'SP394', 'SP479', 'Piazza 30 Maggio', 'SP100', 'SS591', 'Piazza 4 Novembre', 'Piazzale 23 Novembre', 'SC94.2', 'SS641', 'Via E3', 'SR47', 'SS430', 'SP509', 'Via A.', 'SP308', 'SP402', 'SP254', 'SR437', 'SP43', 'SS191', 'SS187', 'Via 7 Aprile', 'SP440', 'SS696', 'Via Strada Regionale', 'Via 6 Ottobre', 'Traversa Via Nicola Massaro', 'SR41', 'SP294', 'SS398', 'SS624', 'SS636', 'Via Campioni del', 'E27', 'Intc7', 'Vicolo Lilio', 'SP370', 'Via 8-9 Maggio', 'E90', 'Via B-40', 'SP359', 'SP427', 'SRexSS367', 'Via 22 Agosto', 'SP439', 'SP28', 'SR251', 'Via Cima', 'SC12', 'SC10', 'SP426', 'SS596', 'SR4', 'SP476', 'SP512', 'SP15', 'SS143', 'SR584', 'SP654', 'SS45', 'SS510', 'SS302', 'exSS35', 'Via Privata Calco', 'SS121', 'SP319', 'SC46.1', 'SC59', 'Via 16 Luglio', 'SP23', 'SS166', 'SS132', 'SS79', 'SP246', 'SP587', 'SP563', 'SS33', 'SS322', 'SP364', 'Via 6 Febbraio', 'SP224', 'Via 25 Novembre', "Via Martiri del '44", 'SC7', 'Strada G3', 'SS512', 'SS662', 'Strada Provinciale', "Via Martiri del '21", 'SC83', 'SP177', 'SP69', 'Via da Denominare', 'Via 29 Marzo', 'Largo Vf.', 'SP78', 'SP243', 'SP138', 'SS119', 'SP112', 'Via Fronte Concas', 'SP466', 'Via Sedici Aprile', 'SR15', 'SC29', 'SR439', 'Via M4', 'Piazza 24 Aprile', 'SR89', 'SR62', 'SP73', 'SS34', 'SS74', 'NSA118', 'SP159-1', 'SS342', 'SR105', 'SS250', 'SS62', 'SS151', 'SSP24', 'SS240', 'SP350', 'Via San Martino', 'SS477', 'Via Av.', 'SS41', 'Via 17 maggio', 'SP387', 'SP15-1', 'Passaggio Privato Via Biroli', 'SS7', 'SP247', 'SPexSS10', 'SC19', 'SR117', 'SR206', 'SP420', 'SP348', 'Via C3', 'Via Martiri del 16 Marzo', 'SPexSS498', 'SS242', 'SPexSS233', 'SP267', 'SC28', 'SP188', 'SS95', 'SP377', 'SPexSS87', 'Via Dibartolomeo L9', 'SP165-2', 'SP414', 'SP57', 'SP53d2', 'SPexSS104', 'Piazza 2 Ottobre', 'SC7.2', 'Viale 14 Agosto', 'SS290', 'Piazza 25 Aprile', 'SC23', 'SP330', 'SS401', 'SP60', 'SR5', 'SP34', 'SP44', 'SS275', 'SP12d2', 'SP1d4', 'SP105d1', 'SS533', 'SP127', 'Traversa Privata Terzo Tronco Via Strada Statale', 'SC15.4', 'SS124', 'Traversa Margherita', 'SPexSS363', 'SP502', 'SP78d3', 'SS460', 'SS115', 'Viale 22 Maggio', 'SP11', 'SP74', 'SPexSS402', 'SP475', 'Via Strada Numero', 'SC11', 'SP151', 'SC5', 'SC19.3', 'SRexSS562', 'SS204', 'SP54d1', 'SS19', 'SS432', 'Via 26 Luglio', 'SS602', 'SS127', 'SP405', 'SP172', 'SS352', 'SP80-1', 'Via 4 Ottobre', 'SPexSS270', 'SS49', 'SPBS237', 'SS455', 'Via 8 Giugno', 'SP583', 'SP94', 'SPexSS96', 'SP453', 'SC65', 'SS131', 'SP264', 'Via Italia', 'SP276', 'SP217', 'SS169', 'SS183', 'Via 6 Marzo', 'SS195', 'Via CZ', 'SP331', 'SP360', 'SP596', 'SR452', 'SS317', 'Viale 3 Marzo', 'SP639', 'SC69', 'SR147', 'SS351', 'SR360', 'SS343', 'SR10', 'SP355', 'SS700', 'SS640', 'Via Vf.', 'SPexSS91', 'Borgo San Leonardo Strada', 'SS208', 'SP1d1', 'SP375', 'Via Giubileo', 'Via Sacerdote Canciano Laico', 'SS268', 'SP159-4', 'SP324', 'SPexSS414', 'SPexSS88', 'SS186', 'SC58', 'SP357', 'Piazza 22 Giugno', "Contra' Riale1", 'SP338', 'SP225', 'SP49', 'Via S1', 'SS440', 'Via Repubblica Vastese', 'SS31', 'SR50', 'SP38', 'Piazza Italia', 'SR14', 'SP379', 'Prima Traversa Via Provinciale', 'SP310', 'SP29', 'SP72', 'SP302', 'E74', 'SP663', 'SP170', 'SS413', 'SR23', 'SP288', 'RA17', 'Villaggio 23 Novembre', 'Contrada Mortaio', 'SS190', 'SPexSS303', 'SP481', 'SP87', 'Via Numero', 'SP126', 'SS44', 'SR45', 'SP456', 'Via E1', 'SPexSS165', 'Via V3', 'SPexSS580', 'SP114', 'Via Statale', 'SP155', 'Via Migliara', 'SR435', 'SP219', 'Vicolo', 'SPBS567', 'SS14', 'SS85', 'Piazza 16 Marzo', 'SP45', "Via Italia '61", 'Largo Apollo', 'Strada P. Del Castagno Numero', 'SR448', 'Via Piano San Michele', 'SP417', 'Traversa Numero', 'SP249', 'SP449', 'SS647', 'Viale Caduti Via Fani 16 Marzo', 'SR471', 'SS516', 'SP457', 'SS402', 'SP400', 'SS337', 'Via 29 Ottobre', 'SS234', 'exSS3', 'SP500', 'SR209', 'Via O3', 'SC43', 'SS511', 'SS618', 'SRexSS94', 'SP353', 'Traversa Campizzi', 'SP401', 'SS263', 'SP1', 'Vicolo H3', 'SP133', 'SP92dir1', 'Via N', 'Gradinata 18 Agosto', 'SP47', 'SPexSS114', "Via Caduti dell' 8 Luglio", 'Vanella', 'Via E117', 'SR88', 'Piazzale Caduti 8 Dicembre', 'SS554', 'Via Apollo', 'SP199', 'SR487', 'SP159-3', 'Piazza 2 Dicembre', 'SP361', 'SP423', 'Via', 'SP4-2', 'Largo 16 Marzo', 'S. Prov. ex Strada Statale', 'Via Bologna 2 Agosto', 'SR512', 'Via Charta', 'SS600', 'SP118', 'Via Monte K2', 'SP162-1', 'SS631', 'SP501', 'SS397', 'SP506', 'SP465', 'SS496', 'SS500', 'SP64', 'SS670', 'SPexSS366', 'SS494', 'SP71', 'SP9', 'SP3', 'SPBS345', 'Contrada Scinà Strada', 'Via 2 Luglio', 'SR479', 'SP38-1', 'SS155', 'SP323', "Cortile Ragazzi del '99", 'SP20dir1', 'SP473', 'SS347', 'SR457', 'SS612', 'SP368', 'Via Q.', 'SP363', 'SP213d1', 'Via Strada Statale', 'SR148', 'Via 29 Gennaio', 'Via L1', 'SP197', 'SS168', 'SP24', 'SP103', 'SR249', 'SPexSS269', 'SP80', 'SS549', 'SP12d1', 'SS346', 'SP594', 'SP569', 'SPexSS654', 'SS395', 'SP51', 'SC62', 'SS260', 'Zona Giardini', 'SP278', 'Strada Regionale ex SS', 'SS544', 'SS434', 'SP18', 'SP227', 'SS285', 'SP300', 'Traversa Cutura', 'SP48', 'SR312', 'SP271', 'SP61', 'Via Marzo', 'Secondo Tronco SS', 'SP256', 'Piazza del Parco Caduti del 19 Luglio', 'SP10d1', 'SR31', 'SS198', 'SS301', 'Quartiere Portici Condominio', 'SP31', 'SS48', 'Piazza 9 Novembre', 'SS325', 'SPexSS603', 'SS587', 'Piazzetta 26 Novembre', 'SP351', 'SP595', 'SS522', 'SS313', 'Vico Secondo 31 Marzo', 'SC1.3', 'SP181', 'SP335', 'SS108', 'SP273', 'SS481', 'SP514', 'SS30', 'Via 3 Novembre', 'SP564', 'SP14', 'SP121', 'Via A2', 'SS82', 'SR509', 'SP635', 'SP582', 'Via CL.', 'SS517', 'SP283', 'SS90', 'Via 14 Marzo', 'SP122', 'SC106.6', 'SP413', 'SR320', 'SP410', 'SS55', 'Corso Fiume 22 Febbraio', 'SC59.4', 'Piazza Vittime della Repressione del Maggio', 'SS23', 'Via Z3', 'SS281', 'Via F', 'Via 15 Novembre', 'Piazza 2 Giugno', 'SR211', 'Via Martiri 16 Marzo', 'SS36', 'SP13-1', 'Via 19 Maggio', 'SS495', 'Via 27 Marzo', 'SP304', 'SS392', 'SS627', 'SP242', 'SP510', 'Via 23 Marzo', 'Largo P.P.', 'SS660', 'SP462', 'Via Pm.', 'SS145', 'SRexSS18', 'SP35-2', 'SP213', 'SC61', 'exSS318', 'SRexSS103', 'SS338', 'SS286', 'SP108', 'SP425', 'NSA319', 'SP221', 'Via 31 Marzo', 'Via Caduti nei Lager 1943-1945', 'SP511', 'SP137', 'SS114', 'Via 9 Aprile', 'SP123', 'Civico 35 Interno 1-9', 'SC42', 'Via D', 'SP70', 'SP218', 'SP19', 'Via R', 'Via 6 Maggio', 'Vico Quinto Primo Tronco SS', 'SS50', 'Via 14 Maggio', 'Largo 14 Luglio', 'SP5-2', 'SP435', 'Strada G1', 'SR204', 'SP239', 'SP148', 'Variante alla Strada Statale', 'SS261', 'SSP663', 'Via Settembre', 'Via R.1', 'Vicolo San Paolo', 'SS305', 'SS350', 'SS393', 'SS645', 'SC6', 'SC53.3', 'SP192', 'SS547', 'Via M5', 'SS265', 'SP16', 'Via Q1', 'Viale 11 Settembre', 'Via Monti', 'Via Ragazzi del', 'SP231', 'SS13', 'Via 24 Giugno', 'Via dei Volontari', 'SS248', 'SS11', 'SP222', 'SP146', 'SC74', 'SP206', 'SS10', 'SP124', 'SP228', 'SS399', 'SC76', 'Via 20 Luglio', 'A11', 'SP198', 'SC68', 'SP30', 'SS246', 'SP532', 'Via E', 'SPBS343', 'SS653', 'SR46', 'Via Santi Bivona Cortile', 'Piazzetta 2 Settembre', 'Lungadige 26 Luglio', 'Via R1', 'SC55', 'SP477', 'SRexSS88', 'SS508', 'Via TR.', 'SP553', 'SP182', 'Via Primo Gennaio', 'SP110d1', 'Via Martiri di Gerace', 'SC60', 'SP184', 'SRexSS266', 'Via 19 Luglio', 'SS18', 'E64', 'Contrada Ciambra Strada', 'SP30d1', 'SP84', 'SS125', 'Vocabolo Strada Statale', 'Via 9 Gennaio', "Viadotto Ponte 1' Categoria anno", 'exSS235', 'SC35', 'SS32', 'SP265', 'SR66', 'Vicolo del Voto', 'SP396', 'SP2-4', 'SP167', 'Via Falcone', 'Via C', 'SP260', 'SP444', 'Via Zona C2', 'SR302', 'SS40', 'SS551', 'Primo Tronco Strada Statale', 'SP392', 'SP589', 'SP77', 'SC110.3', 'SP8-1', 'SR258', 'SP241', 'SS289', 'SP7-2', 'SR515', 'SP356', 'SP339', 'SS71', 'Via 6 Dicembre', 'SS498', 'Via Romana Traversa n.', 'SP22', 'Via Butera in F', 'exSS234', 'SP185', 'Tronco Secondo SS', 'SR314', 'SP504', 'Via Mt.', 'SS196', 'SS444', 'SP296', 'Viale Martiri del', 'Via dei Martiri del', 'Via 15 Marzo', 'Via Zs.', 'SR325', 'SP7', 'SR351', 'SP373', 'SS323', 'Via Chidro', 'Via T', 'SRexSS164', 'SP316', 'SS519', 'SP56', 'SP408', 'SP383', 'SS103', 'SS360', 'SP104', 'SS583', "Via Ragazzi del '99", 'SP117', 'Via Q', 'SPexSS300', 'SC52.3', 'SS503', 'SS386', 'SP332', 'SP85-2', 'SP460', 'SP99', 'Via 16 Giugno', 'Via 5 Ottobre', 'SS387', 'SS601', 'SS650', 'SP106', 'SS311', 'SP86', 'Giardini San Giuliano di Puglia Classe', 'SS561', 'SP407', 'Via Pt.', 'Vicolo H4', 'SS539', 'SP303', 'SC1', 'SS126', 'SPexSS496', 'SP110', 'SS534', 'SR3', 'SP415', 'SR429', 'SP107', 'SC37', 'SS129', 'SP178', 'Via 20 Settembre', 'SP140', 'SP93', 'SC78', 'SP21d1', 'SP193', 'Via Martiri di Cosenza', 'SS404', 'SP463', 'SR416', 'SS25', 'SS216', 'Via Maggio', 'Via H5', 'Intc19', 'SR319', 'SS415', 'SC52.5', 'SS5', 'SP12', 'SP269', 'SS412', 'Via 9 Novembre', 'SRexSS488', 'Via V.', 'SP35', 'SP421', 'SS581', 'SS38', 'SS391', 'Strada Provinciale Numero', 'SP236', 'SP366', 'SS149', 'SP65', 'Vico Terzo Via 10 Ottobre', 'SP55', 'Via Congresso Agrario', 'Traversa Statale', 'SPexSS341', 'SP272', 'Strada Statale Jonica', 'SS230', 'SP382', 'Via 4 Luglio', 'Vico N.', 'SS573', 'SS633', 'SS685', 'Corso Apollo', 'SP513', 'SP429', 'SP285', 'Piazza 2 Agosto', 'SS206', 'SP237', 'SS274', 'SP358', 'A52', 'SC33', 'SP159-2', 'SS527', "Localita' Porcino Cima", 'SP492', 'SP13d2', 'Civici 87-85', 'SC38', 'exSS219', 'SP158', 'SR143', 'SR9', 'Via 26 Febbraio', 'Via 12 Settembre', 'SR67', 'SR313', 'Via AZ', 'SP168', 'SR29', 'Piazza 26 Maggio', 'Strada Statale', 'SS388', 'Via Z1', 'SP157', 'Via B4', 'SP540', 'Via Primo Dicembre', 'Via 23 Novembre', 'SS279', 'SS487', 'SS134', 'SPexSS527', 'Via Vittime del 16 Settembre', 'SS497', 'SP341', 'SP343', 'Terzo Tronco SS', 'SS249', 'SS608', 'Via Primo Febbraio', 'SSEx212', 'SPexSS84', 'SP232', 'SP434', 'SR465', 'SS288', 'SC73', 'SP483', 'Via Zona P.E.E.P.', 'SP399', 'SC46.11', 'SP169', 'Via 30 Maggio', 'Via 20 Aprile', 'Via 10 Marzo', 'SP130', 'SP36', 'SP290', 'Contrada Lacchi', 'SR36', 'SP204', 'Via 12 Febbraio', 'SS390', 'SP135', 'Via O2', 'SS490', 'SRexSS407', 'SRexSS447', 'SP411', 'SS536', 'SPBS510', 'SP143', 'Case della Buca', 'SPBS235', "Largo Ragazzi del '99", 'SP119', 'Via Novembre', 'SP46', 'SR443', 'exSS412', 'Via 4 Settembre', 'SC15.5', 'Via 15 Giugno', 'Via M', 'SC32', 'SP284', 'SS228', 'SP120', 'SP132', 'Via L-23', 'Largo Mt.', 'SS552', 'SS376', 'Via 13 Luglio', 'SPexSS93', 'SP20', 'SP6', 'SS595', 'SP203', 'Via 11 Ottobre', 'SS68', 'SS16', 'SS120', 'Via Bz.', 'SS365', 'Via Caduti del', 'SP542', 'Largo 17 Settembre', 'SP250', 'NSA275', 'SS452', 'SS93', 'SS179', 'SS310', 'SP163-1', 'SP131', 'Via 2 Dicembre', 'Via Provinciale', 'Raccordo Strada Statale', 'Via B', 'SS73', 'SP328', 'SP321', 'SPexSS368', "Viadotto Ragazzi del '99", 'SP352', 'SP125', 'SP320', 'SR48', 'SS590', 'SS205', 'SS594', 'SS78', 'SC36', 'E25', 'Via 2 Giugno', 'Corso Magenta 4 Giugno', 'SR252', 'Via del', 'SP72d1', 'SR13', 'Via Nazionale Strada Statale', 'SC34', 'Corso Palestro 30-31 Maggio', 'SP146d1', 'SP62', 'Via Caduti 14 Settembre', 'SP494', 'SS212', 'SS51', 'SC3', 'SR12', 'Via Migliara 46 e', 'SS586', 'SPexSS174', 'Via del Borgo', 'Piazza 9 Aprile', 'SP18b1', 'SC7.1', 'SS381', 'Via B1', 'SP471', 'SS284', 'SPexSS11', 'SP210', 'Civici 67-69', 'SS303', 'SS43', 'SR463', 'SP216', 'Via della Casetta Vico', 'SS654', 'Strada Nazionale', 'Piazza 20 Settembre', 'SS556', 'SP4', 'SS167', 'SP34-1', 'SS101', 'SS213', 'SR444', 'SS575', 'SS478', 'SC84.5', 'SPexSS92', 'SP171', 'SS239', 'Piazza 25 Luglio', 'SC45', 'SS26', 'SC46.6', 'SP9dir1', 'Vico Quarto Via 10 Ottobre', 'Strada Statale Numero', 'Strada Regionale', 'SP586', 'SP14-3', 'Via St.22', 'SC19.4', 'E841', 'Piazza 3 Novembre', 'SP275', 'SP422', 'SS470', 'Piazza 8 Marzo', 'SP175', 'Via Martiri 30 Gennaio', 'SS207', 'SS72', 'SP322', 'SR397', 'SPexSS574', 'SS20', 'SP333', 'Vicolo 7 Aprile', 'Intc15', 'SPexSS482', 'SS184', 'SC52', 'Via 10 Dicembre', 'SC25', 'Traversa C1', 'Via Monte', "Via Caduti del 16 Marzo '78", 'SP223', "Piazza Ragazzi del '99", 'Via Strada Provinciale', 'Via Martiri del', 'SP129', 'Via G3', 'SPexSS62', 'SC22', 'A3', 'Via Masseria Iossa', 'Vico Numero', 'SS6', 'SP369', 'Piazza 29 Agosto', 'SP8d1', 'Variante Esterna SS', 'SP18-1', 'SPexSS403', 'Via 19 Giugno', 'Via I2', 'SR454', 'SR355', 'SS89', 'SS235', 'SP134', 'SS66', 'exSS162', "Via Sant'Urbano Vico", 'SS609', 'SS621', 'Via dei Martiri del 1915-18', 'SP507', 'SP314', 'Via 10 Ottobre', 'SP662', 'SS446', 'Via Bc.', 'Vicolo Matunzio', "Via dell'Insurrezione del 23-25 Aprile", 'SS223', 'E931', 'Traversa Comunale Parco Ambrosio', 'SP233', 'Via 2 Agosto', 'Piazza dei', 'SPexSS374', 'SPexSS103', 'SS123', 'SP311', 'SC75', 'SR307', 'SP149', 'SS146', 'SP207', 'SP263', 'Via Zona Industriale', 'SS493', 'Via Vanella', 'SP464', 'SP244', 'Via 14 Novembre', 'SC46', 'SR627', 'SS233', 'SS588', 'SR222', 'SP215', 'SP458', 'Via K2', 'Borgo Strovina Strada', 'Via Pozzuolo', 'SC63', 'Contrada Colle Marino', 'SS63', 'Deviazione Statale', 'SP291', 'SS529', 'SS278', 'SP491', 'SP205', 'SS254', 'SC20', 'SS606', 'SP166', 'SP165', 'SR353', 'SP419', 'SS224', 'SS464', 'SS501', 'SP498', 'SPexSS164', 'SP667', 'SS439', 'Via C.', 'SP623', 'SS489', 'E61', 'SS334', 'SS194', 'SS632', "Via Caduti 6 Novembre '40", 'SP428', 'Via 9 Febbraio', 'SP95', 'SR261', 'SR78', 'SP76', 'SR38', 'Via Z5', 'SS291', 'SS558', 'SS222', 'SP347', 'SPBS469', 'SR599', 'SP209', 'SS353', 'NSA295', 'SS52', 'SP92', 'SS509', 'SC51', 'Via Caduti 21 Settembre', 'SP102', 'Via I3', 'Traversa Via Nazionale', 'SP202', 'SP144', 'SS335', 'Via 4 Agosto', 'SS525', 'SC72.5', 'SP73b1', 'SS294', 'SS277', 'Largo V.', 'SP11-3', 'SP336', 'SP34-2', 'SR33', 'Casello Canale Cavour', 'SS130', 'SP441', 'SS419', 'Via Consona', 'SP154', 'SP548', 'SP83', 'SS17', 'SS514', 'SP406', 'SS104', 'SP8', 'SR418', 'SP201', 'Strada Numero', 'Piazza 8 Novembre', 'SR37', 'SS84', 'Via 5 Maggio', 'SPexSS581', 'SP384', 'SP301', 'SS2', 'Via Orsa Traversa', 'SP234', 'SS492', 'SSP460', 'SC39', 'SP176', 'Via dei Patrioti Sambiasini', 'SP141', 'SS368', 'SR398', 'SP397', 'SS306', 'SP32dir1', 'SP486', 'SP378', 'SS620', 'SS109', "Piazza 12 Novembre '44", 'Contrada Grasciano', 'SR602', 'SP258', 'Viadotto Vf.', 'SP52', 'SP97', "Via dei Mondiali '82", 'SP568', 'SP85', 'SR516', 'SP84d1', 'Via Z', 'SS180', "Via I Ragazzi del '99", 'SP266', 'SP109', 'Via 16 Agosto', 'Via CB', 'SPBS668', 'Via L2', 'Vicolo Chiuso', 'SR70', 'SP27', 'SPBS11', 'Traversa Matunzio', 'SP17a2', 'Via 3 Settembre', "Piazza Martiri 9 Ottobre '44", 'Intc4', 'SS472', 'SP163', 'SP240', 'SS3', 'SP470', 'SP346', 'SS358', 'Tronco Primo SS', 'SS197', 'Traversa Irto Tronco Primo Strada Statale Jonica', 'Piazza 30 Dicembre', 'SS639', 'A26', 'SR615', 'Via Volontari', 'SC57', 'SC81', 'SR18', 'Via Cc.', 'SP287', 'SP531', 'SP488', 'Via 20 Gennaio', 'SS9', 'SP388', 'SP289', 'exSS591', 'Viale 28 Settembre', 'SS21', 'Via Vittime 11 Settembre', 'SS244', 'SC6.3', 'SS4', 'SS442', 'SS251', 'SS221', 'SC123', 'SP490', 'SP371', 'SP472', 'SP78d1', 'Via S.M.22', 'SP365', 'SP412', 'Via T2', 'SP446', 'SS584', 'SS24', 'SP433', 'SP592', 'SP459', 'SP389', 'SP376', 'SP180', 'SS321', 'SP174', 'SP26', 'SP147', 'Via L.', 'SR6', 'SS67', 'SP571', 'Via 26 Agosto', 'SP59', 'Piazza 7 Novembre', 'Via Traversa', 'SP442', 'SP255', 'Via 11 Settembre', 'SR11', 'E78', 'Via Eroi', 'Vico Secondo Via 10 Ottobre', 'SP186', 'SR495', 'SC60.1', 'SP313', 'SR221', 'Via delle Cartiere Numero', 'SP96-1', 'Via 23 Settembre', 'Via 13 Marzo', 'SS69', 'SS156', 'SS35', 'SS605', 'Via 11 Aprile', 'SP334', 'Vicolo 30 Aprile', 'SP187', 'Via Primo Luglio', 'SP418', 'SP2-1', 'SP50', 'SS361', 'SP325', 'Piazza 28 Ottobre', 'SS292', 'Via 22 Ottobre', 'Via Gioiello', 'SP315', 'Piazzetta 10 Novembre', 'E55', 'SP299', 'SR316', 'Via 3 Febbraio', 'SS531', 'SP13', 'Strada Migliara']
straat_eind_cijfer = [x.replace(' ','').lower() for x in straat_eind_cijfer]


#recognize streetnames
straateind=['alt','and','ang','bor','bre','cas','cam','cal','for','fon','log','int','lar','mon','pas','pia','por','ram','rio','rip','str','via','vi','var']


#some countries have the number in front of the string
def number_in_front(input):
    split = input.split()
    if hasNumbers(split[0]) and hasNumbers(split[-1]):
        output = make_string(split[1:])
        output = output.replace(split[-1],split[0]).strip()
    else:
        output = input.strip()
    return output


def find_postcode(input):
    regex = '\d{5}'
    try:
        postcode = re.search(f"{regex}", input).group()
    except:
        postcode = ''
    input = input.replace(postcode,'')
    return input.strip(), postcode


def parser(input):
    address, postcode = find_postcode(input)
    output = parser_final(address, pobox, remove_list, remove_list_with_number, floors, blacklist_street, afkorting, straat_eind_cijfer, straateind)
    output.update({'postcode':postcode})
    # print(output['streetname'])
    try:
        response = json.loads(requests.get(f"http://37.97.229.131:5000/libpostal/?address={input}").text)
        libpostal_road = response['road'].title()
        if output['streetname']!=libpostal_road:
            output.update({'streetname':libpostal_road})
    except:
        pass
    return output


# print(parser('blablabal 123'))